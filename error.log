 
[13-Feb-2015 23:46:50 Europe/Berlin] 
SELECT p.id as id, p.name as name, p.description as description,
      p.price as price, p.shipping as shipping, p.gender as gender, p.type as type,
      p_comment.rating as rating, p_comment.count as reviews,
      pp_exemplar.exemplars as exemplars,
      pp_theme.themes as themes,
      pp_event.events as events,
      pp_image.url as url
FROM product p
  LEFT JOIN
  (
    SELECT product as pid, FORMAT(avg(rating),1) as rating, count('text') as count
    FROM comment GROUP BY product
    ) p_comment
  ON p.id = p_comment.pid

  LEFT JOIN
  (
    SELECT product_theme.product as ptpid, GROUP_CONCAT(theme.name) as themes
    FROM product_theme, theme
    WHERE product_theme.theme = theme.id
    GROUP BY ptpid
    ) pp_theme
  ON p.id = pp_theme.ptpid

  LEFT JOIN
  (
    SELECT product_event.product as pepid, GROUP_CONCAT(event.name) as events
    FROM product_event, event
    WHERE product_event.event = event.id
    GROUP BY pepid
    ) pp_event
  ON p.id = pp_event.pepid


  LEFT JOIN
  (
    SELECT product_image.product as pipid, product_image.url as url
    FROM  product_image
    GROUP BY pipid
    ) pp_image
  ON p.id = pp_image.pipid

  LEFT JOIN
  (
    SELECT exemplar.product as epid, group_concat(exemplar.size) as exemplars
    FROM exemplar
    GROUP BY epid
    ) pp_exemplar
  ON p.id = pp_exemplar.epid

 WHERE   name LIKE "%hi%"  AND  gender = "Male" AND  url IS NOT NULL ORDER BY rating DESC
[13-Feb-2015 23:51:00 Europe/Berlin]   name LIKE "%hi%"  AND  theme LIKE "%some%"  AND  event LIKE "%love%"  AND  price >= 300 AND  price <= 20 AND  gender = "Male" AND  url IS NULL 
[13-Feb-2015 23:51:00 Europe/Berlin] Error executing query: 
SELECT p.id as id, p.name as name, p.description as description,
      p.price as price, p.shipping as shipping, p.gender as gender, p.type as type,
      p_comment.rating as rating, p_comment.count as reviews,
      pp_exemplar.exemplars as exemplars,
      pp_theme.themes as themes,
      pp_event.events as events,
      pp_image.url as url
FROM product p
  LEFT JOIN
  (
    SELECT product as pid, FORMAT(avg(rating),1) as rating, count('text') as count
    FROM comment GROUP BY product
    ) p_comment
  ON p.id = p_comment.pid

  LEFT JOIN
  (
    SELECT product_theme.product as ptpid, GROUP_CONCAT(theme.name) as themes
    FROM product_theme, theme
    WHERE product_theme.theme = theme.id
    GROUP BY ptpid
    ) pp_theme
  ON p.id = pp_theme.ptpid

  LEFT JOIN
  (
    SELECT product_event.product as pepid, GROUP_CONCAT(event.name) as events
    FROM product_event, event
    WHERE product_event.event = event.id
    GROUP BY pepid
    ) pp_event
  ON p.id = pp_event.pepid


  LEFT JOIN
  (
    SELECT product_image.product as pipid, product_image.url as url
    FROM  product_image
    GROUP BY pipid
    ) pp_image
  ON p.id = pp_image.pipid

  LEFT JOIN
  (
    SELECT exemplar.product as epid, group_concat(exemplar.size) as exemplars
    FROM exemplar
    GROUP BY epid
    ) pp_exemplar
  ON p.id = pp_exemplar.epid

 WHERE   name LIKE "%hi%"  AND  theme LIKE "%some%"  AND  event LIKE "%love%"  AND  price >= 300 AND  price <= 20 AND  gender = "Male" AND  url IS NULL  ORDER BY rating DESC
[13-Feb-2015 23:58:26 Europe/Berlin]   s_name LIKE LOWER("%hi%")  AND  gender = "Male" AND  url IS NOT NULL
[13-Feb-2015 23:58:26 Europe/Berlin] Error executing query: 
SELECT

  p.id as id,
  p.name as name,
  LOWER(p.name) as s_name,
  p.description as description,
  p.price as price,
  p.shipping as shipping,
  p.gender as gender,
  p.type as type,
  p_comment.rating as rating,
  p_comment.count as reviews,
  pp_exemplar.exemplars as exemplars,
  pp_theme.themes as themes,
  LOWER(pp_theme.themes) as s_themes,
  pp_event.events as events,
  LOWER(pp_event.events) as s_events,
  pp_image.url as url


FROM product p
  LEFT JOIN
  (
    SELECT product as pid, FORMAT(avg(rating),1) as rating, count('text') as count
    FROM comment GROUP BY product
    ) p_comment
  ON p.id = p_comment.pid

  LEFT JOIN
  (
    SELECT product_theme.product as ptpid, GROUP_CONCAT(theme.name) as themes
    FROM product_theme, theme
    WHERE product_theme.theme = theme.id
    GROUP BY ptpid
    ) pp_theme
  ON p.id = pp_theme.ptpid

  LEFT JOIN
  (
    SELECT product_event.product as pepid, GROUP_CONCAT(event.name) as events
    FROM product_event, event
    WHERE product_event.event = event.id
    GROUP BY pepid
    ) pp_event
  ON p.id = pp_event.pepid


  LEFT JOIN
  (
    SELECT product_image.product as pipid, product_image.url as url
    FROM  product_image
    GROUP BY pipid
    ) pp_image
  ON p.id = pp_image.pipid

  LEFT JOIN
  (
    SELECT exemplar.product as epid, group_concat(exemplar.size) as exemplars
    FROM exemplar
    GROUP BY epid
    ) pp_exemplar
  ON p.id = pp_exemplar.epid

 WHERE   s_name LIKE LOWER("%hi%")  AND  gender = "Male" AND  url IS NOT NULL ORDER BY rating DESC
[14-Feb-2015 00:03:44 Europe/Berlin]   name LIKE "%hi%" COLLATE utf8_bin  AND  gender = "Male" AND  url IS NOT NULL
[14-Feb-2015 00:06:35 Europe/Berlin]   LOWER(name) LIKE "%hi%" AND  gender = "Female" AND  url IS NOT NULL
[14-Feb-2015 00:09:13 Europe/Berlin]   LOWER(name) LIKE "%hi%" AND  gender = "Female" AND  url IS NOT NULL
[14-Feb-2015 00:09:36 Europe/Berlin]   LOWER(name) LIKE "%adel%" AND  gender = "Female" AND  url IS NOT NULL
[14-Feb-2015 00:09:54 Europe/Berlin]   LOWER(name) LIKE "%GGOGO%" AND  gender = "Male" AND  url IS NOT NULL
